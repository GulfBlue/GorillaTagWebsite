<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gorilla Creators</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Base Styles */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #0a0e17;
      color: white;
      overflow-x: hidden;
    }
    
    /* Background Video */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
      opacity: 0.7;
    }
    
    /* Main Content */
    #main-content {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 1.2s ease, transform 1.2s ease;
    }
    
    /* Header */
    h1 {
      text-align: center;
      font-size: 3em;
      margin: 20px 0 40px;
      background: linear-gradient(120deg, #5865F2 0%, #008cff 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px rgba(88, 101, 242, 0.3);
      animation: textGlow 3s infinite alternate;
    }
    
    @keyframes textGlow {
      0% { text-shadow: 0 0 10px rgba(88, 101, 242, 0.3); }
      100% { text-shadow: 0 0 30px rgba(88, 101, 242, 0.6); }
    }
    
    /* Sign In Button */
    #signin-btn {
      position: absolute;
      top: 18px;
      right: 24px;
      padding: 10px 20px;
      font-size: 1em;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      z-index: 10;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    #signin-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }
    
    /* Log Out Button */
    #logout-btn {
      display: none;
      position: static;
      padding: 10px 20px;
      font-size: 1em;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      z-index: 10;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
    }
    
    #logout-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }
    
    /* Change Name Button */
    #change-name-btn {
      display: none;
      position: static;
      padding: 10px 20px;
      font-size: 1em;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      z-index: 10;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
    }
    
    #change-name-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }
    
    /* Gorilla Tag Website Button */
    .gtagbutton {
      padding: 12px 24px;
      font-size: 1.1em;
      background: linear-gradient(135deg, #1a30c0 0%, #008cff 100%);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0, 140, 255, 0.3);
      transition: all 0.3s ease;
    }
    
    .gtagbutton:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 140, 255, 0.4);
    }
    
    /* Video Player Container */
    .video-player-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      background: rgba(20, 30, 40, 0.7);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      padding: 30px;
      width: fit-content;
      margin: 40px auto;
      position: relative;
      z-index: 2;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    #content-video {
      display: block;
      max-width: 70vw;
      max-height: 70vh;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      background: #000;
      border: 2px solid #008cff;
      transition: all 0.3s ease;
    }
    
    /* Arrow Buttons */
    .arrow-btn {
      background: linear-gradient(135deg, #008cff 0%, #005fa3 100%);
      border: none;
      color: white;
      font-size: 1.8em;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(0, 140, 255, 0.3);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    .arrow-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 140, 255, 0.5);
    }
    
    /* Button Container */
    .button-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 40px 0;
      gap: 20px;
    }
    
    /* YouTube Button */
    .youtube-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 24px;
      font-size: 1.1em;
      background: #ff0000;
      color: white;
      border-radius: 8px;
      border: none;
      box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .youtube-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 0, 0, 0.4);
    }
    
    /* Buy Me a Coffee Button */
    .bmc-btn {
      height: 50px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(255, 221, 0, 0.3);
      transition: all 0.3s ease;
    }
    
    .bmc-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(255, 221, 0, 0.4);
    }
    
    /* Discord Button */
    .discord-btn {
      background: linear-gradient(135deg, #5865F2 0%, #404EED 100%);
      color: white;
      font-size: 1.08em;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(88, 101, 242, 0.3);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .discord-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(88, 101, 242, 0.4);
    }
    
    /* Footer */
    .site-footer {
      width: 100%;
      background: linear-gradient(90deg, #005fa3 0%, #008cff 100%);
      color: white;
      text-align: center;
      padding: 40px 20px;
      font-family: 'Roboto', sans-serif;
      position: relative;
      z-index: 10;
      margin-top: auto;
    }
    
    .footer-content {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .footer-content h3 {
      margin: 0 0 16px 0;
      font-size: 1.5em;
      font-weight: 700;
    }
    
    .footer-content p {
      margin: 0;
      font-size: 1.1em;
      line-height: 1.6;
    }
    
    /* Enhanced Sign In Modal */
    #signin-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(10, 15, 30, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20000;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.4s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .cool-signin-form {
      position: relative;
      background: rgba(20, 25, 45, 0.95);
      border-radius: 16px;
      padding: 40px;
      display: flex;
      flex-direction: column;
      gap: 24px;
      width: 90%;
      max-width: 380px;
      box-shadow: 0 12px 40px rgba(0, 100, 255, 0.25);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: scale(0.95);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow: hidden;
    }
    
    #signin-modal.show .cool-signin-form {
      transform: scale(1);
    }
    
    .cool-signin-form::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(
        from 0deg,
        transparent,
        rgba(88, 101, 242, 0.3),
        rgba(0, 140, 255, 0.6),
        rgba(88, 101, 242, 0.3),
        transparent
      );
      animation: rotateBorder 6s linear infinite;
      z-index: -1;
    }
    
    @keyframes rotateBorder {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .cool-signin-title {
      font-size: 1.8em;
      font-weight: 700;
      color: white;
      margin: 0 0 10px 0;
      text-align: center;
      background: linear-gradient(90deg, #5865F2, #008cff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .input-group {
      position: relative;
      width: 100%;
    }
    
    .cool-signin-input, .cool-signup-input {
      padding: 14px 16px 14px 40px;
      font-size: 1em;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(10, 15, 25, 0.7);
      color: white;
      width: 100%;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      box-sizing: border-box;
    }
    
    .cool-signin-input:focus {
      outline: none;
      border-color: #5865F2;
      box-shadow: 0 0 0 3px rgba(88, 101, 242, 0.2);
    }
    
    .input-group {
      position: relative;
      width: 100%;
      min-width: 0;
      box-sizing: border-box;
    }
    
    .input-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255, 255, 255, 0.6);
      font-size: 1.2em;
      pointer-events: none;
    }
    
    .cool-signin-btn {
      padding: 14px 24px;
      font-size: 1.1em;
      background: linear-gradient(135deg, #5865F2 0%, #008cff 100%);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      margin-top: 10px;
      box-shadow: 0 4px 15px rgba(88, 101, 242, 0.3);
      position: relative;
      overflow: hidden;
    }
    
    .cool-signin-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s ease;
    }
    
    .cool-signin-btn:hover::before {
      left: 100%;
    }
    
    .cool-signin-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(88, 101, 242, 0.4);
    }
    
    .cool-signin-btn:active {
      transform: translateY(0);
    }
    
    .cool-signin-cancel {
      background: none;
      border: none;
      color: rgba(255, 255, 255, 0.6);
      cursor: pointer;
      margin-top: 10px;
      font-size: 0.95em;
      transition: all 0.3s ease;
      align-self: center;
    }
    
    .cool-signin-cancel:hover {
      color: #008cff;
    }
    
    .cool-signin-message {
      color: #ff6b6b;
      font-size: 0.9em;
      text-align: center;
      margin-top: -10px;
      display: none;
      animation: fadeIn 0.3s ease-out;
    }
    
    .signin-footer {
      margin-top: 20px;
      font-size: 0.9em;
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
    }
    
    .signin-footer a {
      color: #008cff;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .signin-footer a:hover {
      text-decoration: underline;
    }
    
    /* Sign Up Modal */
    #signup-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(10, 15, 30, 0.9);
      align-items: center;
      justify-content: center;
      z-index: 20001;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.4s ease-out;
    }
    
    .cool-signup-form {
      position: relative;
      background: rgba(20, 25, 45, 0.95);
      border-radius: 16px;
      padding: 40px;
      display: flex;
      flex-direction: column;
      gap: 24px;
      width: 90%;
      max-width: 380px;
      box-shadow: 0 12px 40px rgba(0, 100, 255, 0.25);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: scale(0.95);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow: hidden;
    }
    
    #signup-modal.show .cool-signup-form {
      transform: scale(1);
    }
    
    .cool-signup-form::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(
        from 0deg,
        transparent,
        rgba(88, 101, 242, 0.3),
        rgba(0, 140, 255, 0.6),
        rgba(88, 101, 242, 0.3),
        transparent
      );
      animation: rotateBorder 6s linear infinite;
      z-index: -1;
    }
    
    .cool-signup-title {
      font-size: 1.8em;
      font-weight: 700;
      color: white;
      margin: 0 0 10px 0;
      text-align: center;
      background: linear-gradient(90deg, #5865F2, #008cff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Change Name Modal */
    #changename-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(10, 15, 30, 0.9);
      align-items: center;
      justify-content: center;
      z-index: 20002;
      backdrop-filter: blur(8px);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      h1 {
        font-size: 2em;
      }
      
      .video-player-container {
        flex-direction: column;
        padding: 20px;
      }
      
      #content-video {
        max-width: 90vw;
        margin: 20px 0;
      }
      
      .arrow-btn {
        margin: 10px 0;
      }
    }
    
    @media (max-width: 480px) {
      h1 {
        font-size: 1.8em;
      }
      
      #signin-btn {
        top: 10px;
        right: 10px;
        font-size: 0.9em;
        padding: 8px 16px;
      }
      
      .gtagbutton, .youtube-btn, .discord-btn {
        font-size: 1em;
        padding: 10px 20px;
      }
      
      .footer-content p {
        font-size: 1em;
      }
      
      .cool-signin-form {
        padding: 30px 20px;
      }
      
      .cool-signin-title {
        font-size: 1.5em;
      }
      
      .cool-signin-input, .cool-signup-input {
        padding: 12px 16px 12px 42px;
      }
      
      .input-icon {
        font-size: 1em;
        left: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- Background Video -->
  <video src="WebsiteVideos/CHILLREDONE.mp4" autoplay loop muted id="bg-video"></video>
  
  <!-- Main Content -->
  <div id="main-content">
    <h1>Gorilla Creators</h1>
    <div style="position:absolute;top:18px;right:24px;display:flex;align-items:center;gap:12px;z-index:10;">
      <button id="signin-btn"><i class="fas fa-sign-in-alt"></i> Sign In</button>
      <button id="logout-btn" style="display:none;">Log Out</button>
      <button id="change-name-btn" style="display:none;">Change Name</button>
      <span id="display-name-plaque" style="display:none;padding:10px 20px;font-size:1em;background:rgba(88,101,242,0.15);color:white;border-radius:8px;font-weight:600;backdrop-filter:blur(5px);border:1px solid rgba(88,101,242,0.3);margin-left:8px;"></span>
    </div>
    <button class="gtagbutton" onclick="window.open('https://www.gorillatagvr.com', '_blank')">
      Official Gorilla Tag Website
    </button>
    
    <div class="video-player-container">
      <button class="arrow-btn" id="prev-video">&#8592;</button>
      <video id="content-video" src="Edit1.mp4" autoplay loop controls></video>
      <button class="arrow-btn" id="next-video">&#8594;</button>
    </div>
    
    <div class="button-container">
      <a href="https://www.youtube.com/@GyroVr" target="_blank" class="youtube-btn">
        <i class="fab fa-youtube"></i>
        <span>Visit my YouTube</span>
      </a>

      <a href="https://buymeacoffee.com/gyrovr" target="_blank">
        <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" class="bmc-btn" />
      </a>

      <a href="https://discord.gg/ksxHFuV94C" target="_blank" class="discord-btn">
        <i class="fab fa-discord"></i>
        <span>Join Discord</span>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <h3>About Gorilla Creators</h3>
      <p>
        Gorilla Creators is a community-driven website dedicated to showcasing the best edits, clips, and creative content from Gorilla Tag players. Explore amazing videos, join our Discord to submit your own edits, and connect with fellow creators. All rights to videos belong to their respective owners.
      </p>
    </div>
  </footer>

  <!-- Enhanced Sign In Modal -->
  <div id="signin-modal">
    <form id="signin-form" class="cool-signin-form">
      <h2 class="cool-signin-title">Welcome Back</h2>
      
      <div class="input-group">
        <i class="fas fa-envelope input-icon"></i>
        <input type="email" id="signin-email" placeholder="Email Address" class="cool-signin-input" required />
      </div>
      
      <div class="input-group">
        <i class="fas fa-lock input-icon"></i>
        <input type="password" id="signin-password" placeholder="Password" class="cool-signin-input" required />
      </div>
      
      <button type="submit" class="cool-signin-btn">Sign In</button>
      <div id="signin-message" class="cool-signin-message"></div>
      
      <button type="button" class="cool-signin-cancel" onclick="closeSignInModal()">Cancel</button>
      
      <div class="signin-footer">
        Don't have an account? <a href="#" onclick="showSignUp();return false;">Sign up</a>
      </div>
    </form>
  </div>

  <!-- Sign Up Modal -->
  <div id="signup-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(10,15,30,0.9);align-items:center;justify-content:center;z-index:20001;backdrop-filter:blur(8px);">
    <form id="signup-form" class="cool-signin-form">
      <h2 class="cool-signin-title">Create Account</h2>
      
      <div class="input-group">
        <i class="fas fa-envelope input-icon"></i>
        <input type="email" id="signup-email" placeholder="Email Address" class="cool-signin-input" required />
      </div>
      
      <div class="input-group">
        <i class="fas fa-lock input-icon"></i>
        <input type="password" id="signup-password" placeholder="Password" class="cool-signin-input" required />
      </div>
      
      <button type="submit" class="cool-signin-btn">Sign Up</button>
      <div id="signup-message" class="cool-signin-message"></div>
      
      <button type="button" class="cool-signin-cancel" onclick="closeSignUpModal()">Cancel</button>
      
      <div class="signin-footer">
        Already have an account? <a href="#" onclick="showSignIn();return false;">Sign in</a>
      </div>
    </form>
  </div>

  <!-- Change Name Modal -->
  <div id="changename-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(10,15,30,0.9);align-items:center;justify-content:center;z-index:20002;backdrop-filter:blur(8px);">
    <form id="changename-form" class="cool-signin-form">
      <h2 class="cool-signin-title">Change Display Name</h2>
      <div class="input-group">
        <i class="fas fa-user input-icon"></i>
        <input type="text" id="changename-input" placeholder="New Display Name" class="cool-signin-input" required />
      </div>
      <button type="submit" class="cool-signin-btn">Save Name</button>
      <div id="changename-message" class="cool-signin-message"></div>
      <button type="button" class="cool-signin-cancel" onclick="closeChangeNameModal()">Cancel</button>
    </form>
  </div>

  <script>
    // Initialize main content animation
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        document.getElementById('main-content').style.opacity = 1;
        document.getElementById('main-content').style.transform = 'translateY(0)';
      }, 200);
      
      // Check for saved session
      const savedEmail = localStorage.getItem('signedInEmail');
      if (savedEmail) {
        updateSignInUI(savedEmail);
      }
    });

    // Video Navigation
    const videos = [];
    for (let i = 1; i <= 100; i++) {
      videos.push(`Videos/Edit${i}.mp4`);
    }
    let currentVideo = 0;
    const videoElement = document.getElementById('content-video');

    function showVideo(index) {
      if (videos.length === 0) return;
      currentVideo = index;
      if (currentVideo < 0) currentVideo = videos.length - 1;
      if (currentVideo >= videos.length) currentVideo = 0;
      videoElement.pause();
      videoElement.src = videos[currentVideo];
      videoElement.load();
      videoElement.currentTime = 0;
      videoElement.play();
    }

    // Initialize first video
    showVideo(0);

    document.getElementById('prev-video').onclick = function() {
      showVideo(currentVideo - 1);
    };
    document.getElementById('next-video').onclick = function() {
      showVideo(currentVideo + 1);
    };

    // Enhanced Sign In/Up Modal Functions
    function openSignInModal() {
      const modal = document.getElementById('signin-modal');
      modal.style.display = 'flex';
      setTimeout(() => {
        modal.classList.add('show');
      }, 10);
    }

    function closeSignInModal() {
      const modal = document.getElementById('signin-modal');
      modal.classList.remove('show');
      setTimeout(() => {
        modal.style.display = 'none';
      }, 300);
    }

    function showSignUp() {
      closeSignInModal();
      setTimeout(() => {
        document.getElementById('signup-modal').style.display = 'flex';
      }, 350);
    }

    function closeSignUpModal() {
      document.getElementById('signup-modal').style.display = 'none';
    }

    function showSignIn() {
      closeSignUpModal();
      setTimeout(() => {
        openSignInModal();
      }, 350);
    }

    // Change Name Modal Functions
    function openChangeNameModal() {
      document.getElementById('changename-modal').style.display = 'flex';
    }
    function closeChangeNameModal() {
      document.getElementById('changename-modal').style.display = 'none';
    }

    // User management (localStorage demo)
    function getUsers() {
      return JSON.parse(localStorage.getItem('users') || '{}');
    }

    function saveUser(email, password) {
      const users = getUsers();
      users[email] = password;
      localStorage.setItem('users', JSON.stringify(users));
    }

    function validateUser(email, password) {
      const users = getUsers();
      return users[email] && users[email] === password;
    }

    // Update sign-in button and log out/change name buttons
    function updateSignInUI(email) {
      const btn = document.getElementById('signin-btn');
      const logoutBtn = document.getElementById('logout-btn');
      const changeNameBtn = document.getElementById('change-name-btn');
      const plaque = document.getElementById('display-name-plaque');
      if (email) {
        let displayName = localStorage.getItem('displayName');
        if (!displayName) displayName = email.split('@')[0];
        btn.style.display = 'none';
        logoutBtn.style.display = 'inline-block';
        changeNameBtn.style.display = 'inline-block';
        plaque.textContent = displayName;
        plaque.style.display = 'inline-block';
      } else {
        btn.style.display = 'inline-block';
        btn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Sign In';
        btn.style.background = 'rgba(255, 255, 255, 0.1)';
        btn.style.border = '1px solid rgba(255, 255, 255, 0.3)';
        logoutBtn.style.display = 'none';
        changeNameBtn.style.display = 'none';
        plaque.style.display = 'none';
      }
    }

    document.getElementById('signin-btn').onclick = openSignInModal;

    document.getElementById('logout-btn').onclick = function() {
      localStorage.removeItem('signedInEmail');
      updateSignInUI(null);
    };

    document.getElementById('signin-form').onsubmit = function(e) {
      e.preventDefault();
      const email = document.getElementById('signin-email').value.trim();
      const password = document.getElementById('signin-password').value.trim();
      const msg = document.getElementById('signin-message');

      if (!email || !password) {
        msg.textContent = 'Please fill in all fields';
        msg.style.display = 'block';
        return;
      }

      if (!validateUser(email, password)) {
        msg.textContent = 'Invalid email or password';
        msg.style.display = 'block';
        return;
      }

      // Simulate successful login
      msg.style.color = '#4CAF50';
      msg.textContent = 'Signing in...';
      msg.style.display = 'block';

      setTimeout(() => {
        localStorage.setItem('signedInEmail', email);
        msg.textContent = 'Login successful! Redirecting...';
        
        setTimeout(() => {
          closeSignInModal();
          updateSignInUI(email);
          msg.style.display = 'none';
        }, 1000);
      }, 1500);
    };

    document.getElementById('signup-form').onsubmit = function(e) {
      e.preventDefault();
      const email = document.getElementById('signup-email').value.trim();
      const password = document.getElementById('signup-password').value.trim();
      const msg = document.getElementById('signup-message');

      if (!email || !password) {
        msg.textContent = 'Please fill in all fields';
        msg.style.display = 'block';
        return;
      }

      const users = getUsers();
      if (users[email]) {
        msg.textContent = 'Email already registered';
        msg.style.display = 'block';
        return;
      }

      saveUser(email, password);
      msg.style.color = '#4CAF50';
      msg.textContent = 'Account created! You can now sign in.';
      msg.style.display = 'block';

      setTimeout(() => {
        closeSignUpModal();
        openSignInModal();
        msg.style.display = 'none';
      }, 1200);
    };

    document.getElementById('change-name-btn').onclick = openChangeNameModal;

    document.getElementById('changename-form').onsubmit = function(e) {
      e.preventDefault();
      const newName = document.getElementById('changename-input').value.trim();
      const msg = document.getElementById('changename-message');
      if (!newName) {
        msg.textContent = 'Please enter a name';
        msg.style.display = 'block';
        return;
      }
      localStorage.setItem('displayName', newName);
      msg.style.color = '#4CAF50';
      msg.textContent = 'Name updated!';
      msg.style.display = 'block';
      setTimeout(() => {
        closeChangeNameModal();
        updateSignInUI(localStorage.getItem('signedInEmail'));
        msg.style.display = 'none';
      }, 1000);
    };

    // On page load, check session
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        document.getElementById('main-content').style.opacity = 1;
        document.getElementById('main-content').style.transform = 'translateY(0)';
      }, 200);
      const savedEmail = localStorage.getItem('signedInEmail');
      updateSignInUI(savedEmail);
    });
  </script>
</body>
</html>